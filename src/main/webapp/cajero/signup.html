<!DOCTYPE html>
<html lang="en" >
    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">  
      <meta charset="UTF-8">
      <title>FVM</title>
      <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon.png">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
      <!-- Bulma Version 0.8.x-->
      <link rel='stylesheet' href='https://unpkg.com/bulma@0.8.0/css/bulma.min.css'>
      <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/1.9.1/css/OverlayScrollbars.min.css'>
      <link rel='stylesheet' href='https://kingsora.github.io/OverlayScrollbars/etc/os-theme-thin-dark.css'>	  
      <link rel='stylesheet' href="../static/css/prism.css">
      <link rel="stylesheet" href="../static/css/cheatsheet.css">
      <link rel="stylesheet" href="../static/css/styles.css">
      <script src="https://kit.fontawesome.com/7dc3015a44.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <nav class="navbar" role="navigation" aria-label="main navigation">
                <div class="container">
                    <div class="navbar-brand">
                        <a class="navbar-item" href="../index.html">
                            <h1 class="title">FVM</h1>
                        </a>

                        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                          <span aria-hidden="true"></span>
                          <span aria-hidden="true"></span>
                          <span aria-hidden="true"></span>
                        </a>
                    </div>
                    <div class="navbar-menu">
                        <div class="navbar-end">
                            <div class="navbar-item">
                                <div class="buttons">
                                    <a class="button is-small is-dark" href="login.html">
                                        Iniciar Sesion
                                    </a>
                                    <a class="button is-small is-light" href="signup.html">
                                        Registrarse
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>  
            <section class="section">
                <div class="container">
                    <div class="columns is-centered main-wrapper">
                        <div class="column is-6">
                            <h2 class="title">Crea tu cuenta</h2>
                            <form>
                                <div class="field">
                                    <label>Nombre</label>
                                    <div class="control">
                                        <input id="nombre" class="input" type="text" placeholder="Nombre">
                                    </div>
                                </div>
                                <div class="field">
                                    <label>Usuario</label>
                                    <div class="control">
                                        <input id="usuario" class="input" type="text" placeholder="Usuario">
                                    </div>
                                </div>
                                <div class="field">
                                    <label>Direccion</label>
                                    <div class="control">
                                        <input id="direccion" class="input" type="text" placeholder="Direccion">
                                    </div>
                                </div>
                                <div class="field">
                                    <label>Contraseña</label>
                                    <div class="control">
                                        <input id="password" class="input" type="password" placeholder="Contraseña">
                                    </div>
                                </div>
                                <button class="registrarse button">Registrarse</button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>      
<script src='https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/1.9.1/js/OverlayScrollbars.min.js'></script>  
    
<script>
  window.addEventListener('resize', () => {
  const divs = document.querySelectorAll(".menu-list");
  if (window.innerWidth < 768){
    divs.forEach(div => div.classList.add("tags"));
  }
  else {
    divs.forEach(div => div.classList.remove("tags"));
  }
});
  
  document.addEventListener("DOMContentLoaded", function() {
	//The first argument are the elements to which the plugin shall be initialized
	//The second argument has to be at least a empty object or a object with your desired options
	OverlayScrollbars(document.querySelectorAll("body"), { });
});

    $(".registrarse").click(function(e) {
       e.preventDefault();
       var nombre = $("#nombre").val();
       var usuario = $("#usuario").val();
       var direccion = $("#direccion").val();
       var password = $("#password").val();
       $.ajax({
           url: "http://localhost:8080/Banco-FVM/rest/clientes",
           data:JSON.stringify({"nombre":nombre, "usuario":usuario, "direccion":direccion, "password":password}),
           contentType: "application/json",
           dataType: "json",
           type:"POST",
           success: function(response) {
               window.location.replace("../index.html");
               alert("Cuenta creada!");
           },
           error: function(error) {
               console.log(error);
           }
       }) 
    });
    
    $(document).ready(function() {

        // Check for click events on the navbar burger icon
        $(".navbar-burger").click(function() {

            // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
            $(".navbar-burger").toggleClass("is-active");
            $(".navbar-menu").toggleClass("is-active");

        });
    });
  
</script>  
</body>
</html> 